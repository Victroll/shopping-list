(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,n){e.exports=n(429)},195:function(e,t,n){},211:function(e,t,n){},267:function(e,t,n){},269:function(e,t,n){},284:function(e,t,n){},296:function(e,t,n){},310:function(e,t,n){},328:function(e,t,n){},330:function(e,t,n){},338:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),o=n.n(c),i=(n(195),n(198),n(131)),l=n(28),u=n(432),s=n(434),d=n(433),m=(n(30),n(11)),p=(n(208),n(9)),h=(n(211),function(e){var t=e.icon,n=e.title,a=e.buttonTxt,c=e.onClick;return r.a.createElement("div",{className:"home-card"},r.a.createElement(p.a,{type:t,theme:"twoTone",className:"icon"}),r.a.createElement("h1",null,n),r.a.createElement(m.a,{onClick:c},a))}),f=n(27),E=n.n(f),v="Ver listas",b="Ver",C="Crear nueva lista",g="Crear",w="Ajustes de usuario",O="Ajustes",y="Listas guardadas",S="Productos: ",L={title:"\xbfSustituir lista?",desc:function(e){return"Ya tienes una lista abierta. \xbfQuieres abrir la lista ".concat(e," y perder la anterior?")}},j={newTitle:{title:"Introduce el nombre de la lista",placeholder:'"Fiesta de Francisco Castillo"'},newProduct:{title:"Nuevo producto",name:"Nombre del producto",namePlaceholder:function(){return E.a.random.array_element(["Berenjenas","Champ\xfa","Fregona","Comida del perro","Cebollas","Latas de tomate","Arroz","Friegaplatos","Pilas"])},amount:"Cantidad",kg:".kgs",uds:".uds"},cancelModalTitle:function(e){return"Cancelar lista ".concat(e)},cancelList:"\xbfSeguro que quieres cancelar la creaci\xf3n de esta lsita?",finishModalTitle:"Finalizar lista",finishList:"\xbfDeseas finalizar y guardar la lista?",success:function(e){return"\xa1Lista ".concat(e," guardada!")}},k="Cancelar",H="Siguiente",T="Terminar",M="Volver",P="Continuar",R=(n(267),{home:"/",newList:"/create-new-list",showLists:"/show-lists"}),_=n(0),I=n.n(_),N=(I.a.shape({action:I.a.string,block:I.a.func,createHref:I.a.func,go:I.a.func,goBack:I.a.func,goForward:I.a.func,length:I.a.number,listen:I.a.func,location:I.a.shape({hash:I.a.string,key:I.a.string,pathname:I.a.string,search:I.a.string,state:I.a.shape({page:I.a.number})}),push:I.a.func,replace:I.a.func}),I.a.shape({component:a.Component,inputs:I.a.shape({next:I.a.oneOfType([I.a.number,I.a.string])})}),I.a.oneOfType([I.a.arrayOf(I.a.node),I.a.node]),I.a.shape({name:I.a.string,amount:I.a.number,uds:I.a.number}),function(e){var t=e.history;return r.a.createElement("div",{className:"home"},r.a.createElement(h,{icon:"profile",title:v,buttonTxt:b,onClick:function(){return function(e){e.push(R.showLists)}(t)}}),r.a.createElement(h,{icon:"edit",title:C,buttonTxt:g,onClick:function(){return function(e){e.push(R.newList)}(t)}}),r.a.createElement(h,{icon:"setting",title:w,buttonTxt:O}))}),x=function(){return r.a.createElement(a.Fragment,null,r.a.createElement("a",{href:"https://github.com/Victroll",className:"github-corner","aria-label":"View source on GitHub"},r.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true"},r.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),r.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"octo-arm"}),r.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"}))),r.a.createElement("style",null,".github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}"))},F=(n(269),function(e){var t=e.children;return r.a.createElement("div",{className:"app-layout"},t)}),D=n(46),A=n(18),U=n(35),V=n(36),J=n(38),K=n(37),B=n(39),X=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(J.a)(this,Object(K.a)(t).call(this,e))).state={currentState:e.initialState},n}return Object(B.a)(t,e),Object(V.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.currentState,a=this.props.allowRecursivity;return!(t.currentState===n&&!a)}},{key:"transition",value:function(e){var t=this.state.currentState,n=this.props,a=n.stateList,r=n.history,c=n.negativeRedirect,o=a[t].inputs[e];"string"===typeof o?r.push("/".concat(o)):-1===o?r.push(c):this.setState({currentState:o})}},{key:"render",value:function(){var e=this,t=this.state.currentState,n=this.props.stateList[t];return Object(a.createFactory)(n.component)(Object(A.a)({},this.props,Object.keys(n.inputs).reduce(function(t,n){return Object(A.a)({},t,Object(D.a)({},n,function(){return e.transition(n)}))},{})))}}]),t}(a.Component);X.defaultProps={negativeRedirect:"/",initialState:0,allowRecursivity:!1};var z=X,q=(n(80),n(100)),G=function(e){var t=e.children;return r.a.createElement("div",{className:"button-wrapper"},t)},Z=function(e){e({type:"ADD_PRODUCT"})},Q=function(e,t){t({type:"SAVE_TITLE",title:e})},Y=function(e){function t(e){var n;Object(U.a)(this,t),(n=Object(J.a)(this,Object(K.a)(t).call(this,e))).onInputChange=function(e){n.setState({title:e})},n.onNextHandler=function(){var e=n.props,t=e.saveTitleHandler,a=e.next;t(n.state.title),a()};var a=e.title;return n.state={title:a},n}return Object(B.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.state.title,n=this.props.cancel;return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,j.newTitle.title),r.a.createElement(q.a,{placeholder:j.newTitle.placeholder,value:t,onChange:function(t){return e.onInputChange(t.target.value)}}),r.a.createElement(G,null,r.a.createElement(m.a,{onClick:n},k),r.a.createElement(m.a,{disabled:""===t,onClick:this.onNextHandler,type:"primary"},H)))}}]),t}(a.Component),W=Object(l.b)(function(e){return{title:e.newListReducer.title}},function(e){return{saveTitleHandler:function(t){return Q(t,e)}}})(Y),$=(n(273),n(187)),ee=(n(276),n(130)),te=(n(279),n(186)),ne=(n(144),n(51)),ae=function(e){var t=e.children,n=e.title;return r.a.createElement("div",{className:"product-info-wrapper"},r.a.createElement("h2",null,n),t)},re=(n(284),ne.a.Group),ce=function(e){function t(e){var n;Object(U.a)(this,t),(n=Object(J.a)(this,Object(K.a)(t).call(this,e))).updateField=function(e,t){var a=n.props;(0,a.updateProductHandler)(a.id,e,t),n.setState(Object(D.a)({},e,t))};var a=e.product;return n.state={name:void 0===a?"":a.name,amount:void 0===a?1:a.amount,uds:void 0===a?0:a.uds},n}return Object(B.a)(t,e),Object(V.a)(t,[{key:"componentDidUpdate",value:function(e){var t=e.product,n=this.props.product;t.name!==n.name&&this.setState({name:n.name,amount:n.amount,uds:n.uds})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onAdd,c=t.onRemove,o=t.id,i=this.state,l=i.name,u=i.amount,s=i.uds;return r.a.createElement(a.Fragment,null,r.a.createElement(ae,{title:j.newProduct.name},r.a.createElement(q.a,{placeholder:j.newProduct.namePlaceholder(),value:l,onChange:function(t){return e.updateField("name",t.target.value)}})),r.a.createElement(ae,{title:j.newProduct.amount},r.a.createElement(te.a,{value:u,min:1,onChange:function(t){return e.updateField("amount",t)}}),r.a.createElement(re,{onChange:function(t){return e.updateField("uds",t.target.value)},value:s,className:"radio-group"},r.a.createElement(ne.a,{value:0},j.newProduct.kg),r.a.createElement(ne.a,{value:1},j.newProduct.uds))),r.a.createElement(ae,null,r.a.createElement("div",{className:"product-info-button-wrapper"},r.a.createElement(m.a,{type:"primary",icon:"plus-circle",shape:"circle-outline",onClick:n}),r.a.createElement(m.a,{type:"primary",icon:"delete",shape:"circle-outline",onClick:c,disabled:0===o}))))}}]),t}(a.Component),oe=Object(l.b)(null,function(e){return{addProductHandler:function(e){var t=e.name;return e.amount,e.uds,Z(t)},updateProductHandler:function(t,n,a){return function(e,t,n,a){a({type:"UPDATE_FIELD",id:e,field:t,value:n})}(t,n,a,e)}}})(ce),ie=(n(291),n(185)),le=function(e){var t=e.onCancel,n=e.onContinue,a=e.children,c=e.title;return r.a.createElement(ie.a,{visible:!0,title:c,mask:!0,closable:!1,centered:!0,footer:[r.a.createElement(m.a,{key:"cancel",onClick:t},k),r.a.createElement(m.a,{key:"continue",type:"primary",onClick:n},P)]},a)},ue="ShoppingList",se=function(e,t){var n=JSON.parse(window.localStorage.getItem("".concat(ue,"-").concat("Lists")));null===n?window.localStorage.setItem("".concat(ue,"-").concat("Lists"),JSON.stringify(Object(D.a)({},e,t))):(n[e]=t,window.localStorage.setItem("".concat(ue,"-").concat("Lists"),JSON.stringify(n)))},de=function(){var e=JSON.parse(window.localStorage.getItem("".concat(ue,"-").concat("Lists")));return null===e?{}:e},me=function(e){var t=JSON.parse(window.localStorage.getItem("".concat(ue,"-").concat("Lists"))),n=Object(A.a)({},t);return delete n[e],window.localStorage.setItem("".concat(ue,"-").concat("Lists"),JSON.stringify(n)),n},pe=(n(296),ee.a.Panel),he=function(e){function t(e){var n;Object(U.a)(this,t),(n=Object(J.a)(this,Object(K.a)(t).call(this,e))).onAddHandler=function(){var e=n.props,t=e.addProductHandler,a=e.products;t(),n.setState({activeKey:"".concat(a.length)})},n.onCollapseHandler=function(e){void 0===e?n.setState({activeKey:null}):n.setState({activeKey:e})},n.onRemoveHandler=function(e){(0,n.props.removeProductHandler)(e)},n.onCancelHandler=function(){var e=n.props,t=e.cancel;(0,e.resetListHandler)(),t()},n.onFinishHandler=function(){var e=n.props,t=e.title,a=e.products,r=e.finish,c=e.resetListHandler;se(t,a),c(),$.a.success(j.success(t)),r()},n.onShowCancelModalHandler=function(){var e=n.state.showCancelModal;n.setState({showCancelModal:!e})},n.onShowFinishModalHandler=function(){var e=n.state.showFinishModal;n.setState({showFinishModal:!e})};var a=e.addProductHandler,r=e.products;return n.state={activeKey:"0",showCancelModal:!1,showFinishModal:!1},0===r.length&&a(),n}return Object(B.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.activeKey,c=t.showCancelModal,o=t.showFinishModal,i=this.props,l=i.products,u=i.title,s=i.prev;return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,u),r.a.createElement(ee.a,{className:"product-panel",accordion:!0,activeKey:n,onChange:this.onCollapseHandler},l.map(function(t,n){return r.a.createElement(pe,{key:"".concat(n),header:void 0===l[n]||""===l[n].name?j.newProduct.title:l[n].name},r.a.createElement(oe,{id:n,key:n,onAdd:e.onAddHandler,onRemove:function(){return e.onRemoveHandler(n)},product:t}))})),r.a.createElement(G,null,r.a.createElement(m.a,{onClick:s},M),r.a.createElement(m.a,{type:"danger",onClick:this.onShowCancelModalHandler},k),r.a.createElement(m.a,{type:"primary",onClick:this.onShowFinishModalHandler},T)),c&&r.a.createElement(le,{title:j.cancelModalTitle(u),onCancel:this.onShowCancelModalHandler,onContinue:this.onCancelHandler},j.cancelList),o&&r.a.createElement(le,{title:j.finishModalTitle,onCancel:this.onShowFinishModalHandler,onContinue:this.onFinishHandler},j.finishList))}}]),t}(a.Component),fe=Object(l.b)(function(e){var t=e.newListReducer;return{products:t.products,title:t.title}},function(e){return{addProductHandler:function(){return Z(e)},removeProductHandler:function(t){return function(e,t){t({type:"REMOVE_PRODUCT",id:e})}(t,e)},resetListHandler:function(){return function(e){e({type:"RESET"})}(e)}}})(he),Ee=(n(168),n(74)),ve=(n(310),Ee.a.Item),be=ve.Meta,Ce=function(e){var t=e.title,n=e.count,a=e.onDelete,c=e.onShow,o=e.onEdit;return r.a.createElement(ve,{className:"item"},r.a.createElement(be,{title:t,description:"".concat(S).concat(n)}),r.a.createElement(m.a,{type:"primary",icon:"eye",shape:"circle-outline",onClick:function(){return c(t)}}),r.a.createElement(m.a,{icon:"edit",shape:"circle-outline",onClick:function(){return o(t)}}),r.a.createElement(m.a,{icon:"delete",shape:"circle-outline",onClick:function(){return a(t)}}))},ge=(n(328),function(e){var t=e.children;return r.a.createElement("div",{className:"lists-table-wrapper"},r.a.createElement("h1",null,y),t)}),we=(n(330),function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(J.a)(this,Object(K.a)(t).call(this))).onCreateHandle=function(){e.props.history.push(R.newList)},e.onDeleteHandler=function(t){var n=me(t);e.setState({lists:n})},e.onShowListHandler=function(t){var n=e.props,a=n.currentList,r=n.next;null!==a&&t!==a?e.onToggleModal(t):null===a?e.onStoreAndShowListHandler(t):r()},e.onStoreAndShowListHandler=function(t){var n=e.props,a=n.setListHandler,r=n.next;a(t,e.state.lists[t].map(function(e){return Object(A.a)({},e,{caught:!1})})),r()},e.onToggleModal=function(t){var n=e.state.showModal;e.setState({showModal:!n,nextId:t})},e.onEditListHandler=function(t){var n=e.props,a=n.saveTitleHandler,r=n.setEditListHandler,c=n.edit,o=e.state.lists;a(t),r(o[t]),c()},e.state={lists:{},showModal:!1,nextId:null},e}return Object(B.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){this.setState({lists:de()})}},{key:"render",value:function(){var e=this,t=this.props.prev,n=this.state,c=n.lists,o=n.showModal,i=n.nextId;return r.a.createElement(a.Fragment,null,r.a.createElement(ge,null,0===Object.keys(c).length?r.a.createElement(Ee.a,null):r.a.createElement(Ee.a,{className:"lists-table",bordered:!0,dataSource:Object.keys(c).map(function(e){return{title:e,count:c[e].length}}),renderItem:function(t){return r.a.createElement(Ce,{title:t.title,count:t.count,onDelete:e.onDeleteHandler,onShow:e.onShowListHandler,onEdit:e.onEditListHandler})}}),r.a.createElement(G,null,r.a.createElement(m.a,{onClick:t},M),r.a.createElement(m.a,{type:"primary",onClick:this.onCreateHandle},g))),o&&r.a.createElement(le,{title:L.title,onCancel:this.onToggleModal,onContinue:function(){return e.onStoreAndShowListHandler(i)}},L.desc(i)))}}]),t}(a.Component)),Oe=Object(l.b)(function(e){return{currentList:e.showListReducer.title}},function(e){return{setListHandler:function(t,n){return function(e,t,n){return e({type:"SET_LIST",id:t,list:n})}(e,t,n)},saveTitleHandler:function(t){return Q(t,e)},setEditListHandler:function(t){return function(e,t){e({type:"SET_LIST",products:t})}(e,t)}}})(we),ye=(n(430),n(184)),Se=(n(150),n(47)),Le=(n(338),[{title:"Producto",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("h2",null,e)}},{title:"Cantidad",dataIndex:"amount",key:"amount"},{title:"Cogido",dataIndex:"caught",key:"cuaght",render:function(e){var t=e.checked,n=e.checkHandler;return r.a.createElement(Se.a,{defaultChecked:t,value:t,onChange:n})}}]),je=Object(l.b)(function(e){var t=e.showListReducer;return{title:t.title,list:t.list}},function(e){return{checkProductHandler:function(t){return function(e,t){return e({type:"CHECK_PRODUCT",id:t})}(e,t)},resetListHandler:function(){return function(e){return e({type:"RESET_LIST"})}(e)}}},function(e,t,n){return Object(A.a)({},e,t,n,{data:e.list.map(function(e,n){return{key:"".concat(e.name,"-").concat(n),name:e.name,amount:"".concat(e.amount," ").concat(0===e.uds?"kgs.":"uds."),caught:{checked:e.caught,checkHandler:function(){return t.checkProductHandler(n)}}}})})})(function(e){var t=e.title,n=e.data,c=e.prev;return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,t),r.a.createElement(ye.a,{bordered:!0,pagination:!1,columns:Le,dataSource:n}),r.a.createElement(G,null,r.a.createElement(m.a,{onClick:c},M)))}),ke=[{component:W,inputs:{cancel:-1,next:1}},{component:fe,inputs:{cancel:-1,prev:0,finish:-1}}],He=[{component:Oe,inputs:{prev:-1,next:1,edit:2}},{component:je,inputs:{prev:0}},{component:W,inputs:{cancel:-1,next:3}},{component:fe,inputs:{cancel:-1,prev:2,finish:-1}}],Te=n(48),Me=n(97),Pe=n(65),Re={title:"",products:[]},_e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_LIST":return Object(A.a)({},t,{products:n.products});case"RESET":return Object(A.a)({},Re);case"UPDATE_FIELD":return(e=Object(Pe.a)(t.products))[n.id][n.field]=n.value,Object(A.a)({},t,{products:e});case"REMOVE_PRODUCT":return(e=Object(Pe.a)(t.products)).splice(n.id,1),Object(A.a)({},t,{products:e});case"SAVE_TITLE":return Object(A.a)({},t,{title:n.title});case"ADD_PRODUCT":return(e=Object(Pe.a)(t.products)).push({name:"",amount:1,uds:0}),Object(A.a)({},t,{products:e});default:return t}},Ie={title:null,list:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=[];switch(t.type){case"RESET_LIST":return Object(A.a)({},e,{list:e.list.map(function(e){return Object(A.a)({},e,{caught:!1})})});case"CHECK_PRODUCT":return(n=Object(Pe.a)(e.list))[t.id]=Object(A.a)({},e.list[t.id]),n[t.id].caught=!n[t.id].caught,Object(A.a)({},e,{list:n});case"SET_LIST":return Object(A.a)({},e,{title:t.id,list:t.list});default:return e}},xe=n(180),Fe=n(181),De=n.n(Fe),Ae="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Te.d,Ue=[xe.a,Object(Me.routerMiddleware)(De()())],Ve=Ae(Te.a.apply(void 0,Ue)),Je=function(e){return Object(Te.e)(e,Ve)}(Object(Te.c)({router:Me.routerReducer,newListReducer:_e,showListReducer:Ne})),Ke=i.a.Content,Be=function(){return r.a.createElement(l.a,{store:Je},r.a.createElement(i.a,null,r.a.createElement(x,null),r.a.createElement(Ke,{className:"content"},r.a.createElement(u.a,{basename:"/shopping-list"},r.a.createElement(s.a,null,r.a.createElement(d.a,{exact:!0,path:R.home,render:function(e){return r.a.createElement(N,e)}}),r.a.createElement(d.a,{exact:!0,path:R.newList,render:function(e){return r.a.createElement(F,null,r.a.createElement(z,Object.assign({},e,{stateList:ke,allowRecursivity:!0})))}}),r.a.createElement(d.a,{exact:!0,path:R.showLists,render:function(e){return r.a.createElement(F,null,r.a.createElement(z,Object.assign({},e,{stateList:He,allowRecursivity:!0})))}}))))))};o.a.render(r.a.createElement(Be,null),document.getElementById("root"))}},[[190,2,1]]]);
//# sourceMappingURL=main.4b04532e.chunk.js.map